(this["webpackJsonpgoit-react-hw-04-hooks-images1"]=this["webpackJsonpgoit-react-hw-04-hooks-images1"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},15:function(e,t,a){e.exports={Loader:"Loader_Loader__17sQZ"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},17:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(4),r=a.n(c),o=a(13),s=a(3),i=a(5);a(22);var l={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22561247-42ee984dc1f8b66c15ccf3de0&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There is no images with name ".concat(e)))}))}},u=(a(23),a(14)),m=a.n(u),j=a(15),b=a.n(j),d=a(1);function h(){return Object(d.jsx)("div",{className:b.a.Loader,children:Object(d.jsx)(m.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})})}var p=a(6),O=a.n(p);function f(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:O.a.Searchbar,children:Object(d.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):i.b.warn("Enter valid name,please!")},children:[Object(d.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(d.jsx)("span",{className:O.a.SearchFormButtonLabel})}),Object(d.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:O.a.SearchFormInput,type:"text",value:r,placeholder:"Search images and photos"})]})})}var g=a(11),x=a.n(g);function _(e){var t=e.webformatURL,a=e.tags,n=e.openModal;return Object(d.jsx)("li",{onClick:n,className:x.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:t,alt:a,className:x.a.ImageGalleryItemImage})})}var v=a(16),S=a.n(v),I=function(e){var t=e.images,a=e.openModal;return Object(d.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(d.jsx)(_,{tags:c,webformatURL:n,openModal:function(){return a(r,c)}},t)}))})},y=a(17),w=a.n(y);function N(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:t,className:w.a.Button,children:"Load more"})}var k=a(12),B=a.n(k),F=document.querySelector("#modal-root");function L(e){var t=e.onClose,a=e.image;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:B.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},role:"presentation",children:Object(d.jsx)("div",{className:B.a.modal,children:Object(d.jsx)("img",{src:a.src,alt:a.alt})})}),F)}var G=a(8),C=a.n(G);function M(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),u=Object(s.a)(r,2),m=u[0],j=u[1],b=Object(n.useState)([]),p=Object(s.a)(b,2),O=p[0],g=p[1],x=Object(n.useState)("idle"),_=Object(s.a)(x,2),v=_[0],S=_[1],y=Object(n.useState)(null),w=Object(s.a)(y,2),k=w[0],B=w[1],F=Object(n.useState)(!1),G=Object(s.a)(F,2),M=G[0],A=G[1];Object(n.useEffect)((function(){a&&(S("pending"),l.fetchImages(a,m).then((function(e){return e.hits})).then((function(e){0===e.length&&(S("rejected"),i.b.error("'".concat(a,"' not found!"))),g((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),S("resolved"),m>1&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})).catch((function(e){S("rejected")})))}),[a,m]);var E=function(e){c(""),j(1),g([]),B(null),S("idle"),A(!1),c(e)},R=function(e,t){A(!0),B({src:e,alt:t})},J=function(){j((function(e){return e+1}))};return"idle"===v?Object(d.jsxs)("div",{className:C.a.App,children:[Object(d.jsx)(f,{onSubmit:E}),Object(d.jsx)(i.a,{})]}):"pending"===v?Object(d.jsxs)("div",{className:C.a.App,children:[Object(d.jsx)(f,{onSubmit:E}),Object(d.jsx)(I,{openModal:R,images:O}),Object(d.jsx)(h,{}),O.length>0&&Object(d.jsx)(N,{onClick:J})]}):"rejected"===v?Object(d.jsx)("div",{className:C.a.App,children:Object(d.jsx)(f,{onSubmit:E})}):"resolved"===v?Object(d.jsxs)("div",{className:C.a.App,children:[Object(d.jsx)(f,{onSubmit:E}),Object(d.jsx)(I,{openModal:R,images:O}),O.length>0&&Object(d.jsx)(N,{onClick:J}),M&&Object(d.jsx)(L,{image:k,onClose:function(){A(!1)}}),Object(d.jsx)(i.a,{})]}):void 0}r.a.render(Object(d.jsx)(M,{}),document.querySelector("#root"))},6:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__19WMJ",SearchForm:"SearchBar_SearchForm__1k1JW",SearchFormButton:"SearchBar_SearchFormButton__3W9N5",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__2bY4N",SearchFormInput:"SearchBar_SearchFormInput__17jtp"}},8:function(e,t,a){e.exports={App:"App_App__aOmNj"}}},[[45,1,2]]]);
//# sourceMappingURL=main.3e3e49bf.chunk.js.map